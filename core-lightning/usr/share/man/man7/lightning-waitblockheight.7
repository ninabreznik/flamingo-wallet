.\" -*- mode: troff; coding: utf-8 -*-
.TH "LIGHTNING-WAITBLOCKHEIGHT" "7" "" "Core Lightning pre-v24.08" ""
.SH
NAME
.LP
lightning-waitblockheight -- Command for waiting for blocks on the blockchain
.SH
SYNOPSIS
.LP
\fBwaitblockheight\fR \fIblockheight\fR [\fItimeout\fR] 
.SH
DESCRIPTION
.LP
The \fBwaitblockheight\fR RPC command waits until the blockchain has reached the specified \fIblockheight\fR.
.IP "\(bu" 2
\fBblockheight\fR (u32): Current blockheight of the blockchain if the value is greater than this number. If it is a present or past block height, then the command returns immediately.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
\fBtimeout\fR (u32, optional): Only wait up to specified seconds. The default is 60 seconds.
.SH
RETURN VALUE
.LP
On success, an object is returned, containing:
.IP "\(bu" 2
\fBblockheight\fR (u32): The current block height (>= \fIblockheight\fR parameter).
.LP
If \fItimeout\fR seconds is reached without the specified blockheight being reached, this command will fail with a code of \fC2000\fR.
.SH
ERRORS
.LP
The following error codes may occur:
.IP "\(bu" 2
2000: Timed out.
.SH
AUTHOR
.LP
ZmnSCPxj <\fIZmnSCPxj@protonmail.com\fR> is mainly responsible.
.SH
RESOURCES
.LP
Main web site: \fIhttps://github.com/ElementsProject/lightning\fR
.SH
EXAMPLES
.LP
\fBExample 1\fR: 
.PP
Request:
.LP
.EX
$ lightning-cli waitblockheight -k \(dqblockheight\(dq=129 \(dqtimeout\(dq=600
.EE
.LP
.EX
{
  \(dqid\(dq: \(dqexample:waitblockheight#1\(dq,
  \(dqmethod\(dq: \(dqwaitblockheight\(dq,
  \(dqparams\(dq: {
    \(dqblockheight\(dq: 129,
    \(dqtimeout\(dq: 600
  }
}
.EE
.PP
Response:
.LP
.EX
{
  \(dqblockheight\(dq: 130
}
.EE
.PP
\fBExample 2\fR: 
.PP
Request:
.LP
.EX
$ lightning-cli waitblockheight -k \(dqblockheight\(dq=131
.EE
.LP
.EX
{
  \(dqid\(dq: \(dqexample:waitblockheight#2\(dq,
  \(dqmethod\(dq: \(dqwaitblockheight\(dq,
  \(dqparams\(dq: {
    \(dqblockheight\(dq: 131
  }
}
.EE
.PP
Response:
.LP
.EX
{
  \(dqblockheight\(dq: 131
}
.EE
.PP
